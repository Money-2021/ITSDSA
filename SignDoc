 [TestMethod]
 public void TestMethod_sign_doc()
 {

     // Load User Token
     string SecureIdentity = Environment.GetEnvironmentVariable("TestA");
     string userTokenPath = @"D:\Examples\VO\Token-" + SecureIdentity + ".jwt";
     string sToken = System.IO.File.ReadAllText(userTokenPath);
     UserToken.RecoveryResponse r = UserToken.GetUserToken(userTokenPath);

     // Obtain SignMe token for this vaulting session
     string signMeToken = sign_me(userTokenPath);

     // Add Vaulted object content in byte[] 
     byte[] c = Encoding.UTF8.GetBytes("Test Content");
     // Calcuate ObjectImprint
     byte[] cHash = Shake256.HashData(c, 64);
     string id = new Guid(cHash.TakeLast(16).ToArray()).ToString();
  
     // Extract Function endpoint from User Token
     var securityToken = new JwtSecurityToken(r.jwToken);
     Uri _baseUri = new Uri(securityToken.Audiences.FirstOrDefault());
  
     // Build funtion endpoint Uri
     HttpClient _httpClient = new HttpClient();
     string _relativeUrl = "Sign/SignHash"; 
     Uri _uri = new Uri(_baseUri, _relativeUrl);
     _httpClient.BaseAddress = _baseUri;
     // Add User Jwtoken
     _httpClient.DefaultRequestHeaders.Add("x-token", signMeToken);
     _httpClient.DefaultRequestHeaders.Add("x-hash", Convert.ToBase64String(cHash));
           
     HttpResponseMessage response = _httpClient.GetAsync(_uri).Result;
     if (response.IsSuccessStatusCode)
     {
         // detached ITSDSA signature
         string signed = response.Content.ReadAsStringAsync().Result;
         userTokenPath = @"D:\Examples\VO\Sign\DSig" + id + ".jwt";
         System.IO.File.WriteAllText(userTokenPath, signed);

         Debug.WriteLine(signed);
     }
     else
     {
         // fail
         string error = response.Content.ReadAsStringAsync().Result;
         throw new Exception(error);
     }

 }
